<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="forgotPassword.css" />
     <link rel="icon" type="image/png" href="./Images/IMG-20251205-WA0007-removebg-preview (1).png">
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <title>Forgot Password - Safe Space</title>
  </head>
  <body>
    <div class="form-container">
      <div class="logo">
        <img
          src="../Images/IMG-20251205-WA0007-removebg-preview (1).png"
          width="100"
          height="100"
          alt="Safe Space Logo"
        />
      </div>

      <!-- Step 1: Email Entry -->
      <div class="form-step active" id="step1">
        <h2>Reset Your Password</h2>
        <p class="step-description">
          Enter your email address and we'll send you a code to reset your password.
        </p>

        <form id="emailForm">
          <input
            type="email"
            id="email"
            placeholder="Enter your email"
            required
          />
          <button type="submit" class="btn" onclick="sendResetCode(event)">
            Send Code
          </button>
        </form>
        <p>
          Remember your password?
          <a href="login.html" class="link">Back to Login</a>
        </p>
      </div>

      <!-- Step 2: OTP Verification -->
      <div class="form-step" id="step2">
        <h2>Verify Your Code</h2>
        <p class="step-description">
          Enter the verification code sent to your email
        </p>

        <form id="otpForm">
          <div class="otp-container">
            <input
              type="text"
              class="otp-input"
              maxlength="1"
              placeholder="0"
              required
            />
            <input
              type="text"
              class="otp-input"
              maxlength="1"
              placeholder="0"
              required
            />
            <input
              type="text"
              class="otp-input"
              maxlength="1"
              placeholder="0"
              required
            />
            <input
              type="text"
              class="otp-input"
              maxlength="1"
              placeholder="0"
              required
            />
            <input
              type="text"
              class="otp-input"
              maxlength="1"
              placeholder="0"
              required
            />
            <input
              type="text"
              class="otp-input"
              maxlength="1"
              placeholder="0"
              required
            />
          </div>

          <p class="resend-text">
            Didn't receive code?
            <a href="#" class="link" onclick="resendCode(event)">Resend</a>
          </p>

          <button type="submit" class="btn" onclick="verifyCode(event)">
            Verify Code
          </button>
        </form>

        <button class="btn-back" onclick="goToStep(1)">
          <i class="fas fa-arrow-left"></i> Back
        </button>
      </div>

      <!-- Step 3: New Password -->
      <div class="form-step" id="step3">
        <h2>Create New Password</h2>
        <p class="step-description">
          Enter your new password. Make sure it's strong and secure.
        </p>

        <form id="passwordForm">
          <div class="password-container">
            <input
              type="password"
              id="newPassword"
              placeholder="New Password"
              required
            />
            <i class="fa-solid fa-eye" id="togglePassword1"></i>
          </div>

          <div class="password-container">
            <input
              type="password"
              id="confirmPassword"
              placeholder="Confirm Password"
              required
            />
            <i class="fa-solid fa-eye" id="togglePassword2"></i>
          </div>

          <div class="password-requirements">
            <p>Password must contain:</p>
            <ul>
              <li>
                <span class="check-icon" id="check-length">✓</span>
                At least 8 characters
              </li>
              <li>
                <span class="check-icon" id="check-upper">✓</span>
                One uppercase letter
              </li>
              <li>
                <span class="check-icon" id="check-lower">✓</span>
                One lowercase letter
              </li>
              <li>
                <span class="check-icon" id="check-number">✓</span>
                One number
              </li>
              <li>
                <span class="check-icon" id="check-special">✓</span>
                One special character (!@#$%^&*)
              </li>
            </ul>
          </div>

          <button type="submit" class="btn" onclick="resetPassword(event)">
            Reset Password
          </button>
        </form>

        <button class="btn-back" onclick="goToStep(2)">
          <i class="fas fa-arrow-left"></i> Back
        </button>
      </div>

      <!-- Step 4: Success Message -->
      <div class="form-step" id="step4">
        <div class="success-icon">
          <i class="fas fa-check-circle"></i>
        </div>
        <h2>Password Reset Successful!</h2>
        <p class="success-message">
          Your password has been successfully reset. You can now log in with your new password.
        </p>

        <a href="login.html" class="btn">
          <i class="fas fa-sign-in-alt"></i> Go to Login
        </a>
      </div>
    </div>

    <script src="forgotPassword.js"></script>
  </body>
</html>
